(()=>{"use strict";class t{x;y;constructor(t,e){this.x=t,this.y=e}static get ZERO(){return new t(0,0)}}const e=Math.PI/10,i=new t(4e3,2e3),s=document.querySelector("canvas"),h=s.getContext("2d"),n={up:!1,down:!1,left:!1,right:!1},o=new t(-window.innerWidth/2,-window.innerHeight/2),l=new class{pos;angle;wheelAngle;vel;ctx;cam;constructor(e,i){this.pos=t.ZERO,this.angle=0,this.wheelAngle=0,this.vel=0,this.ctx=e,this.cam=i}turn(t){this.wheelAngle+=t,this.wheelAngle>e?this.wheelAngle=e:this.wheelAngle<-e&&(this.wheelAngle=-e)}accelerate(t){this.vel+=t}getPosition(){return this.pos}update(){this.pos.x+=Math.cos(this.angle)*this.vel,this.pos.y+=Math.sin(this.angle)*this.vel,this.wheelAngle*=.8,this.angle+=this.wheelAngle*this.vel*.02,this.vel*=.9,this.pos.x>i.x/2?this.pos.x=i.x/2:this.pos.x<-i.x/2&&(this.pos.x=-i.x/2),this.pos.y>i.y/2?this.pos.y=i.y/2:this.pos.y<-i.y/2&&(this.pos.y=-i.y/2)}draw(){this.ctx.beginPath(),this.ctx.lineWidth=4,this.ctx.strokeStyle="#000000",this.ctx.lineJoin="bevel",this.ctx.fillStyle="#aaaaaa",this.ctx.translate(this.pos.x-this.cam.x,this.pos.y-this.cam.y),this.ctx.rotate(this.angle),this.ctx.translate(12,-20),this.ctx.rotate(this.wheelAngle),this.ctx.moveTo(-8,0),this.ctx.lineTo(8,0),this.ctx.rotate(-this.wheelAngle),this.ctx.translate(-12,20),this.ctx.translate(12,20),this.ctx.rotate(this.wheelAngle),this.ctx.moveTo(-8,0),this.ctx.lineTo(8,0),this.ctx.rotate(-this.wheelAngle),this.ctx.translate(-12,-20),this.ctx.moveTo(-20,-20),this.ctx.lineTo(-4,-20),this.ctx.moveTo(-20,20),this.ctx.lineTo(-4,20),this.ctx.stroke(),this.ctx.fillRect(-20,-15,40,30),this.ctx.strokeRect(-20,-15,40,30),this.ctx.rotate(-this.angle),this.ctx.translate(-this.pos.x+this.cam.x,-this.pos.y+this.cam.y)}}(h,o),a=new class{pos;content;color;alpha;font;ctx;cam;constructor(t,e,i,s,h,n,o){this.pos=t,this.content=e,this.color=i,this.alpha=s,this.font=h,this.ctx=n,this.cam=o}draw(){this.ctx.fillStyle=this.color,this.ctx.globalAlpha=this.alpha,this.ctx.font=this.font;const t=this.ctx.measureText(this.content);this.ctx.fillText(this.content,this.pos.x-this.cam.x-t.width/2,this.pos.y-this.cam.y+(t.actualBoundingBoxAscent+t.actualBoundingBoxDescent)/2),this.ctx.globalAlpha=1}}(t.ZERO,"SciBorgs","#1358bf",.5,"150px Rubik Mono One",h,o);s.width=window.innerWidth,s.height=window.innerHeight,window.addEventListener("resize",(()=>{s.width=window.innerWidth,s.height=window.innerHeight})),document.addEventListener("keydown",(t=>r(t,!0))),document.addEventListener("keyup",(t=>r(t,!1)));const c=()=>{requestAnimationFrame((()=>c())),h.fillStyle="#ffffff",h.fillRect(0,0,s.width,s.height),h.lineWidth=2,h.strokeStyle="#ddddff",h.beginPath();for(let t=-o.x%40;t<=s.width;t+=40)h.moveTo(t,0),h.lineTo(t,s.height);for(let t=-o.y%40;t<=s.height;t+=40)h.moveTo(0,t),h.lineTo(s.width,t);h.stroke(),n.up&&l.accelerate(.5),n.down&&l.accelerate(-.5),n.left&&l.turn(-.2),n.right&&l.turn(.2),a.draw(),l.update(),l.draw(),o.x-=.05*(o.x+s.width/2-l.getPosition().x),o.y-=.05*(o.y+s.height/2-l.getPosition().y)},r=(t,e)=>{switch(t.key){default:return;case"ArrowUp":case"w":n.up=e;break;case"ArrowDown":case"s":n.down=e;break;case"ArrowLeft":case"a":n.left=e;break;case"ArrowRight":case"d":n.right=e}t.preventDefault()};requestAnimationFrame(c)})();